<<<<<<< HEAD
Темизация
=========

Темизация — это способ заменить один набор [представлений](structure-views.md) другим без переписываения кода, что
замечательно подходит для изменения внешнего вида приложения.

Для того, чтобы начать использовать темизацию, настройте свойство [[yii\base\View::theme|theme]] компонениа
приложения `view`. Конфигурация настраивает объект [[yii\base\Theme]], который отвечает за то, как как именно
заменяются файлы отображений. Главным образом, стоит настроить следующие свойства [[yii\base\Theme]]:

- [[yii\base\Theme::basePath]]: базовая директория, в которой размещены темизированные ресурсы (CSS, JS, изображения,
  и так далее).
- [[yii\base\Theme::baseUrl]]: базовый URL для доступа к темизированым ресурсам.
- [[yii\base\Theme::pathMap]]: правила замены файлов представлений. Подробно описаны далее.
 
Например, если вы вызываете `$this->render('about')` в `SiteController`, то будет использоваться файл отображения
`@app/views/site/about.php`. Тем не менее, если вы включите темизацию как показано ниже, то вместо него будет
использоваться `@app/themes/basic/site/about.php`. 
=======
РўРµРјРёР·Р°С†РёСЏ
=========

РўРµРјРёР·Р°С†РёСЏ вЂ” СЌС‚Рѕ СЃРїРѕСЃРѕР± Р·Р°РјРµРЅРёС‚СЊ РѕРґРёРЅ РЅР°Р±РѕСЂ [РїСЂРµРґСЃС‚Р°РІР»РµРЅРёР№](structure-views.md) РґСЂСѓРіРёРј Р±РµР· РїРµСЂРµРїРёСЃС‹РІР°РЅРёСЏ РєРѕРґР°, С‡С‚Рѕ
Р·Р°РјРµС‡Р°С‚РµР»СЊРЅРѕ РїРѕРґС…РѕРґРёС‚ РґР»СЏ РёР·РјРµРЅРµРЅРёСЏ РІРЅРµС€РЅРµРіРѕ РІРёРґР° РїСЂРёР»РѕР¶РµРЅРёСЏ.

Р”Р»СЏ С‚РѕРіРѕ, С‡С‚РѕР±С‹ РЅР°С‡Р°С‚СЊ РёСЃРїРѕР»СЊР·РѕРІР°С‚СЊ С‚РµРјРёР·Р°С†РёСЋ, РЅР°СЃС‚СЂРѕР№С‚Рµ СЃРІРѕР№СЃС‚РІРѕ [[yii\base\View::theme|theme]] РєРѕРјРїРѕРЅРµРЅС‚Р°
РїСЂРёР»РѕР¶РµРЅРёСЏ `view`. РљРѕРЅС„РёРіСѓСЂР°С†РёСЏ РЅР°СЃС‚СЂР°РёРІР°РµС‚ РѕР±СЉРµРєС‚ [[yii\base\Theme]], РєРѕС‚РѕСЂС‹Р№ РѕС‚РІРµС‡Р°РµС‚ Р·Р° С‚Рѕ, РєР°Рє РєР°Рє РёРјРµРЅРЅРѕ
Р·Р°РјРµРЅСЏСЋС‚СЃСЏ С„Р°Р№Р»С‹ РѕС‚РѕР±СЂР°Р¶РµРЅРёР№. Р“Р»Р°РІРЅС‹Рј РѕР±СЂР°Р·РѕРј, СЃС‚РѕРёС‚ РЅР°СЃС‚СЂРѕРёС‚СЊ СЃР»РµРґСѓСЋС‰РёРµ СЃРІРѕР№СЃС‚РІР° [[yii\base\Theme]]:

- [[yii\base\Theme::basePath]]: Р±Р°Р·РѕРІР°СЏ РґРёСЂРµРєС‚РѕСЂРёСЏ, РІ РєРѕС‚РѕСЂРѕР№ СЂР°Р·РјРµС‰РµРЅС‹ С‚РµРјРёР·РёСЂРѕРІР°РЅРЅС‹Рµ СЂРµСЃСѓСЂСЃС‹ (CSS, JS, РёР·РѕР±СЂР°Р¶РµРЅРёСЏ,
  Рё С‚Р°Рє РґР°Р»РµРµ).
- [[yii\base\Theme::baseUrl]]: Р±Р°Р·РѕРІС‹Р№ URL РґР»СЏ РґРѕСЃС‚СѓРїР° Рє С‚РµРјРёР·РёСЂРѕРІР°РЅРЅС‹Рј СЂРµСЃСѓСЂСЃР°Рј.
- [[yii\base\Theme::pathMap]]: РїСЂР°РІРёР»Р° Р·Р°РјРµРЅС‹ С„Р°Р№Р»РѕРІ РїСЂРµРґСЃС‚Р°РІР»РµРЅРёР№. РџРѕРґСЂРѕР±РЅРѕ РѕРїРёСЃР°РЅС‹ РґР°Р»РµРµ.
 
РќР°РїСЂРёРјРµСЂ, РµСЃР»Рё РІС‹ РІС‹Р·С‹РІР°РµС‚Рµ `$this->render('about')` РІ `SiteController`, С‚Рѕ Р±СѓРґРµС‚ РёСЃРїРѕР»СЊР·РѕРІР°С‚СЊСЃСЏ С„Р°Р№Р» РѕС‚РѕР±СЂР°Р¶РµРЅРёСЏ
`@app/views/site/about.php`. РўРµРј РЅРµ РјРµРЅРµРµ, РµСЃР»Рё РІС‹ РІРєР»СЋС‡РёС‚Рµ С‚РµРјРёР·Р°С†РёСЋ РєР°Рє РїРѕРєР°Р·Р°РЅРѕ РЅРёР¶Рµ, С‚Рѕ РІРјРµСЃС‚Рѕ РЅРµРіРѕ Р±СѓРґРµС‚
РёСЃРїРѕР»СЊР·РѕРІР°С‚СЊСЃСЏ `@app/themes/basic/site/about.php`. 
>>>>>>> master

```php
return [
    'components' => [
        'view' => [
            'theme' => [
<<<<<<< HEAD
                'basePath' => '@app/themes/basic'
=======
                'basePath' => '@app/themes/basic',
>>>>>>> master
                'baseUrl' => '@web/themes/basic',
                'pathMap' => [
                    '@app/views' => '@app/themes/basic',
                ],
            ],
        ],
    ],
];
```

<<<<<<< HEAD
> Информация: При настройке тем поддерживаются псевдонимы пути. При замене отображений они преобразуются в реальные
  пути в файловой системе или URL.

Вы можете обратиться к объекту [[yii\base\Theme]] через свойство [[yii\base\View::theme]]. Например,
в файле отображения, это будет выгляедеть следующим образом (объект view доступен как `$this`):
=======
> Info: РџСЂРё РЅР°СЃС‚СЂРѕР№РєРµ С‚РµРј РїРѕРґРґРµСЂР¶РёРІР°СЋС‚СЃСЏ РїСЃРµРІРґРѕРЅРёРјС‹ РїСѓС‚Рё. РџСЂРё Р·Р°РјРµРЅРµ РѕС‚РѕР±СЂР°Р¶РµРЅРёР№ РѕРЅРё РїСЂРµРѕР±СЂР°Р·СѓСЋС‚СЃСЏ РІ СЂРµР°Р»СЊРЅС‹Рµ
  РїСѓС‚Рё РІ С„Р°Р№Р»РѕРІРѕР№ СЃРёСЃС‚РµРјРµ РёР»Рё URL.

Р’С‹ РјРѕР¶РµС‚Рµ РѕР±СЂР°С‚РёС‚СЊСЃСЏ Рє РѕР±СЉРµРєС‚Сѓ [[yii\base\Theme]] С‡РµСЂРµР· СЃРІРѕР№СЃС‚РІРѕ [[yii\base\View::theme]]. РќР°РїСЂРёРјРµСЂ,
РІ С„Р°Р№Р»Рµ РѕС‚РѕР±СЂР°Р¶РµРЅРёСЏ, СЌС‚Рѕ Р±СѓРґРµС‚ РІС‹РіР»СЏРґРµС‚СЊ СЃР»РµРґСѓСЋС‰РёРј РѕР±СЂР°Р·РѕРј (РѕР±СЉРµРєС‚ view РґРѕСЃС‚СѓРїРµРЅ РєР°Рє `$this`):
>>>>>>> master

```php
$theme = $this->theme;

// returns: $theme->baseUrl . '/img/logo.gif'
$url = $theme->getUrl('img/logo.gif');

// returns: $theme->basePath . '/img/logo.gif'
$file = $theme->getPath('img/logo.gif');
```

<<<<<<< HEAD
Свойство [[yii\base\Theme::pathMap]] определяет то, как заменяются файлы представлений. Свойство принимает массив пар 
ключ-значение где ключи являются путями к оригинальным файлам, которые мы хотим заменить, а значения — соответствующими 
путями к файлам из темы. Замена основана на частичном совпадении: если путь к представлению начинаеися с любого из ключей 
массива [[yii\base\Theme::pathMap|pathMap]], то соответствующая ему часть будет заменена значением из того же массива.
Для приведённой выше конфигурпции `@app/views/site/about.php` частично совпадает с ключём `@app/views` и будет
заменён на `@app/themes/basic/site/about.php`.


## Темизация модулей <span id="theming-modules"></span>

Для того, чтобы темизировать модули, свойство [[yii\base\Theme::pathMap]] может быть настроено следующим образом:
=======
РЎРІРѕР№СЃС‚РІРѕ [[yii\base\Theme::pathMap]] РѕРїСЂРµРґРµР»СЏРµС‚ С‚Рѕ, РєР°Рє Р·Р°РјРµРЅСЏСЋС‚СЃСЏ С„Р°Р№Р»С‹ РїСЂРµРґСЃС‚Р°РІР»РµРЅРёР№. РЎРІРѕР№СЃС‚РІРѕ РїСЂРёРЅРёРјР°РµС‚ РјР°СЃСЃРёРІ РїР°СЂ 
РєР»СЋС‡-Р·РЅР°С‡РµРЅРёРµ РіРґРµ РєР»СЋС‡Рё СЏРІР»СЏСЋС‚СЃСЏ РїСѓС‚СЏРјРё Рє РѕСЂРёРіРёРЅР°Р»СЊРЅС‹Рј С„Р°Р№Р»Р°Рј, РєРѕС‚РѕСЂС‹Рµ РјС‹ С…РѕС‚РёРј Р·Р°РјРµРЅРёС‚СЊ, Р° Р·РЅР°С‡РµРЅРёСЏ вЂ” СЃРѕРѕС‚РІРµС‚СЃС‚РІСѓСЋС‰РёРјРё 
РїСѓС‚СЏРјРё Рє С„Р°Р№Р»Р°Рј РёР· С‚РµРјС‹. Р—Р°РјРµРЅР° РѕСЃРЅРѕРІР°РЅР° РЅР° С‡Р°СЃС‚РёС‡РЅРѕРј СЃРѕРІРїР°РґРµРЅРёРё: РµСЃР»Рё РїСѓС‚СЊ Рє РїСЂРµРґСЃС‚Р°РІР»РµРЅРёСЋ РЅР°С‡РёРЅР°РµС‚СЃСЏ СЃ Р»СЋР±РѕРіРѕ РёР· РєР»СЋС‡РµР№ 
РјР°СЃСЃРёРІР° [[yii\base\Theme::pathMap|pathMap]], С‚Рѕ СЃРѕРѕС‚РІРµС‚СЃС‚РІСѓСЋС‰Р°СЏ РµРјСѓ С‡Р°СЃС‚СЊ Р±СѓРґРµС‚ Р·Р°РјРµРЅРµРЅР° Р·РЅР°С‡РµРЅРёРµРј РёР· С‚РѕРіРѕ Р¶Рµ РјР°СЃСЃРёРІР°.
Р”Р»СЏ РїСЂРёРІРµРґС‘РЅРЅРѕР№ РІС‹С€Рµ РєРѕРЅС„РёРіСѓСЂР°С†РёРё `@app/views/site/about.php` С‡Р°СЃС‚РёС‡РЅРѕ СЃРѕРІРїР°РґР°РµС‚ СЃ РєР»СЋС‡РѕРј `@app/views` Рё Р±СѓРґРµС‚
Р·Р°РјРµРЅС‘РЅ РЅР° `@app/themes/basic/site/about.php`.


## РўРµРјРёР·Р°С†РёСЏ РјРѕРґСѓР»РµР№ <span id="theming-modules"></span>

Р”Р»СЏ С‚РѕРіРѕ, С‡С‚РѕР±С‹ С‚РµРјРёР·РёСЂРѕРІР°С‚СЊ РјРѕРґСѓР»Рё, СЃРІРѕР№СЃС‚РІРѕ [[yii\base\Theme::pathMap]] РјРѕР¶РµС‚ Р±С‹С‚СЊ РЅР°СЃС‚СЂРѕРµРЅРѕ СЃР»РµРґСѓСЋС‰РёРј РѕР±СЂР°Р·РѕРј:
>>>>>>> master

```php
'pathMap' => [
    '@app/views' => '@app/themes/basic',
    '@app/modules' => '@app/themes/basic/modules', // <-- !!!
],
```

<<<<<<< HEAD
Это позволит вам темизировать `@app/modules/blog/views/comment/index.php` в `@app/themes/basic/modules/blog/views/comment/index.php`.


## Темизация виджетов <span id="theming-widgets"></span>

Для того, чтобы темизировать виджеты вы можете настроить свойство [[yii\base\Theme::pathMap]] следующим образом:
=======
Р­С‚Рѕ РїРѕР·РІРѕР»РёС‚ РІР°Рј С‚РµРјРёР·РёСЂРѕРІР°С‚СЊ `@app/modules/blog/views/comment/index.php` РІ `@app/themes/basic/modules/blog/views/comment/index.php`.


## РўРµРјРёР·Р°С†РёСЏ РІРёРґР¶РµС‚РѕРІ <span id="theming-widgets"></span>

Р”Р»СЏ С‚РѕРіРѕ, С‡С‚РѕР±С‹ С‚РµРјРёР·РёСЂРѕРІР°С‚СЊ РІРёРґР¶РµС‚С‹ РІС‹ РјРѕР¶РµС‚Рµ РЅР°СЃС‚СЂРѕРёС‚СЊ СЃРІРѕР№СЃС‚РІРѕ [[yii\base\Theme::pathMap]] СЃР»РµРґСѓСЋС‰РёРј РѕР±СЂР°Р·РѕРј:
>>>>>>> master

```php
'pathMap' => [
    '@app/views' => '@app/themes/basic',
    '@app/widgets' => '@app/themes/basic/widgets', // <-- !!!
],
```

<<<<<<< HEAD
Это позволит вам темизировать `@app/widgets/currency/views/index.php` в `@app/themes/basic/widgets/currency/index.php`.


## Наследование тем <span id="theme-inheritance"></span>

Иногда требуется создать базовую тему, задающую общий вид приложения и далее изменять этот вид в зависимости, например,
от сегодняшнего праздника. Добиться этого можно при помощи наследования тем. При этом один путь к файлу ставится в 
соответствие нескольким путям из темы:
=======
Р­С‚Рѕ РїРѕР·РІРѕР»РёС‚ РІР°Рј С‚РµРјРёР·РёСЂРѕРІР°С‚СЊ `@app/widgets/currency/views/index.php` РІ `@app/themes/basic/widgets/currency/index.php`.


## РќР°СЃР»РµРґРѕРІР°РЅРёРµ С‚РµРј <span id="theme-inheritance"></span>

РРЅРѕРіРґР° С‚СЂРµР±СѓРµС‚СЃСЏ СЃРѕР·РґР°С‚СЊ Р±Р°Р·РѕРІСѓСЋ С‚РµРјСѓ, Р·Р°РґР°СЋС‰СѓСЋ РѕР±С‰РёР№ РІРёРґ РїСЂРёР»РѕР¶РµРЅРёСЏ Рё РґР°Р»РµРµ РёР·РјРµРЅСЏС‚СЊ СЌС‚РѕС‚ РІРёРґ РІ Р·Р°РІРёСЃРёРјРѕСЃС‚Рё, РЅР°РїСЂРёРјРµСЂ,
РѕС‚ СЃРµРіРѕРґРЅСЏС€РЅРµРіРѕ РїСЂР°Р·РґРЅРёРєР°. Р”РѕР±РёС‚СЊСЃСЏ СЌС‚РѕРіРѕ РјРѕР¶РЅРѕ РїСЂРё РїРѕРјРѕС‰Рё РЅР°СЃР»РµРґРѕРІР°РЅРёСЏ С‚РµРј. РџСЂРё СЌС‚РѕРј РѕРґРёРЅ РїСѓС‚СЊ Рє С„Р°Р№Р»Сѓ СЃС‚Р°РІРёС‚СЃСЏ РІ 
СЃРѕРѕС‚РІРµС‚СЃС‚РІРёРµ РЅРµСЃРєРѕР»СЊРєРёРј РїСѓС‚СЏРј РёР· С‚РµРјС‹:
>>>>>>> master

```php
'pathMap' => [
    '@app/views' => [
        '@app/themes/christmas',
        '@app/themes/basic',
    ],
]
```

<<<<<<< HEAD
В этом случае представление `@app/views/site/about.php` темизируется либо в `@app/themes/christmas/site/index.php`, 
либо в `@app/themes/basic/site/index.php` в зависимости от того, в какой из тем есть нужный файл. Если файлы присутствуют
и там и там, используется первый из них. На практике большинство темизированных файлов будут расположены
в `@app/themes/basic`, а их версии для праздников в `@app/themes/christmas`.
=======
Р’ СЌС‚РѕРј СЃР»СѓС‡Р°Рµ РїСЂРµРґСЃС‚Р°РІР»РµРЅРёРµ `@app/views/site/index.php` С‚РµРјРёР·РёСЂСѓРµС‚СЃСЏ Р»РёР±Рѕ РІ `@app/themes/christmas/site/index.php`, 
Р»РёР±Рѕ РІ `@app/themes/basic/site/index.php` РІ Р·Р°РІРёСЃРёРјРѕСЃС‚Рё РѕС‚ С‚РѕРіРѕ, РІ РєР°РєРѕР№ РёР· С‚РµРј РµСЃС‚СЊ РЅСѓР¶РЅС‹Р№ С„Р°Р№Р». Р•СЃР»Рё С„Р°Р№Р»С‹ РїСЂРёСЃСѓС‚СЃС‚РІСѓСЋС‚
Рё С‚Р°Рј Рё С‚Р°Рј, РёСЃРїРѕР»СЊР·СѓРµС‚СЃСЏ РїРµСЂРІС‹Р№ РёР· РЅРёС…. РќР° РїСЂР°РєС‚РёРєРµ Р±РѕР»СЊС€РёРЅСЃС‚РІРѕ С‚РµРјРёР·РёСЂРѕРІР°РЅРЅС‹С… С„Р°Р№Р»РѕРІ Р±СѓРґСѓС‚ СЂР°СЃРїРѕР»РѕР¶РµРЅС‹
РІ `@app/themes/basic`, Р° РёС… РІРµСЂСЃРёРё РґР»СЏ РїСЂР°Р·РґРЅРёРєРѕРІ РІ `@app/themes/christmas`.
>>>>>>> master
